"use strict";function Binder(t){this.parentElem=null,this.binderModelRef=null,this.options=t,this.bind()}function __bind_each_element__(t,e){var i=t.getAttribute("data-bind");null!=i&&""!=i&&void 0!=this.options.data[i]&&(t.value=this.options.data[i],this.createProperty(t,i))}Binder.prototype.getElementsWithDataBind=function(){return this.parentElem.querySelectorAll("[data-bind]")},Binder.prototype.setParentElement=function(){if(void 0==this.options.appName)this.parentElem=document.getElementsByTagName("body")[0],this.binderModelRef=binderModel;else{var t=document.querySelectorAll('[appName="'+this.options.appName+'"]');if(0==t.length)throw"No element with appName "+this.options.appName+" exists.";if(t.length>1)throw"Multiple elements with appName "+this.options.appName+" exist. Option appName must be unique";this.parentElem=t[0],this.binderModelRef=this.options.data}},Binder.prototype.bind=function(){if(void 0!=this.options&&void 0!=this.options.data){this.setParentElement();this.getElementsWithDataBind().forEach(__bind_each_element__.bind(this))}},Binder.prototype.setAttributeValue=function(t,e){this.binderModelRef[t]=e},Binder.prototype.removeAttrFromRef=function(t){return delete this.binderModelRef[t]},Binder.prototype.createProperty=function(t,e){if(t.addEventListener("change",function(t){t.target.value!=this.options.data[e]&&(this.options.data[e]=t.target.value)}.bind(this)),this.removeAttrFromRef(e),Object.getOwnPropertyNames(this.binderModelRef).contains(e))throw new new Error("data-bind attribute should be unique.");var i=Object.defineProperty(this.binderModelRef,e,{configurable:!1,get:function(){return t.value},set:function(e){return t.value=e,t.dispatchEvent(new Event("change")),e}});return this.setAttributeValue(e,t.value),i},Array.prototype.contains=function(t){if(0===this.length)return!1;for(var e in this)if(this[e]===t)return!0;return!1};